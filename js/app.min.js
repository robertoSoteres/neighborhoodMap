function viewModel(){var n=this;this.searchTerm=ko.observable(""),this.listaLugares=ko.observableArray([]),map=new google.maps.Map(document.getElementById("map"),{center:{lat:40.484225,lng:-3.701123},zoom:12}),ko.onError=function(n){alert("Error --\x3e ",n)},lugares.forEach(function(e){n.listaLugares.push(new lugar(e))}),this.filtrarLista=ko.computed(function(){var e=n.searchTerm().toLowerCase();return e?ko.utils.arrayFilter(n.listaLugares(),function(n){var t=n.name.toLowerCase().search(e)>=0;return n.visible(t),t}):(n.listaLugares().forEach(function(n){n.visible(!0)}),n.listaLugares())},n)}function init(){ko.applyBindings(new viewModel)}var lugares=[{nombre:"Cines La Vaguada",lat:40.482837,long:-3.707618},{nombre:"Cinesa Manoteras",lat:40.486345,long:-3.66574},{nombre:"Autocine Fuencarral",lat:40.485569,long:-3.678341},{nombre:"Kin√©polis Diversia",lat:40.530067,long:-3.639312},{nombre:"Cine Plaza norte 2",lat:40.541287,long:-3.615794}],lugar=function(n){var e=this;this.name=n.nombre,this.lat=n.lat,this.long=n.long,this.visible=ko.observable(!0),this.infoWindow=new google.maps.InfoWindow({content:e.contentString}),this.marker=new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.long),map:map,icon:"images/cinemaImage.png",title:n.nombre}),this.marker.addListener("click",function(){e.contentString='<div class="info-window-content"><div class="title"><b>'+n.nombre+'</b></div><div class="content">Lat: '+e.lat+'</div><div class="content">Long: '+e.long+"</div></div>",e.infoWindow.setContent(e.contentString),e.infoWindow.open(map,this),e.marker.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.marker.setAnimation(null)},3550)}),this.showMarker=ko.computed(function(){return!0===this.visible()?this.marker.setMap(map):this.marker.setMap(null),!0},this),this.animacion=function(n){google.maps.event.trigger(e.marker,"click")},$("#nav-icon").click(function(){$(this).hasClass("open")?($(this).removeClass("open"),$("#search").css("left","-50vw")):($(this).toggleClass("open"),$("#search").css("left",0))})};